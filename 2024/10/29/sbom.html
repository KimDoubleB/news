<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="https://kimdoubleb.github.io/news/assets/css/syntax.css"><link rel="preconnect" href="https://cdnjs.cloudflare.com"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><title> SBOM (Software Bill of Materials) - KimDoubleB</title><link rel="shortcut icon" href="https://kimdoubleb.github.io/news/favicon.png"><link rel="alternate" type="application/atom+xml" title="KimDoubleB" href="https://kimdoubleb.github.io/news/atom.xml"><link rel="alternate" type="application/json" title="KimDoubleB" href="https://kimdoubleb.github.io/news/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="https://kimdoubleb.github.io/news/sitemap.xml" /><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,300;1,400;1,500;1,600;1,700;1,900&display=swap" rel="stylesheet"><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}html{font-size:17px}#theme-toggle{opacity:0.65;position:relative;border-radius:5px;height:25px;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;transition:opacity 0.3s ease 0s;border:none;outline:none;background:none;cursor:pointer;padding:0px;appearance:none;transform:scale(0.8)}html,html[data-theme="light"]{--text-font: Play;--source-code-font: Source Code Pro;--very-light-text-color: rgb(222, 222, 222);--light-text-color: rgb(89, 183, 255);--medium-text-color: #555;--main-text-color: #333;--highlight-text-color: #6cb4a0;--dark-text-color: #393e46;--link-color: rgb(50, 87, 209);--mark-color: #4B0082;--code-bg-color: rgb(245, 245, 245);background-color:#fff}html #theme-toggle div,html[data-theme="light"] #theme-toggle div{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent, transparent);transform:scale(1);transition:all 0.45s ease 0s;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon, #2d3748)}html #theme-toggle div::before,html[data-theme="light"] #theme-toggle div::before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;transform:translate(0px, 0px);opacity:1;transition:transform 0.45s ease 0s}html #theme-toggle div::after,html[data-theme="light"] #theme-toggle div::after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0px 0px -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon, #2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon, #2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon, #2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon, #2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon, #2d3748);transform:scale(0);transition:all 0.35s ease 0s}html[data-theme="dark"]{--text-font: Play;--source-code-font: Source Code Pro;--very-light-text-color: #EEE;--light-text-color: #c4bbf0;--medium-text-color: #52057b;--main-text-color: #EAEAEA;--highlight-text-color: #6cb4a0;--dark-text-color: rgb(36, 38, 42);--link-color: rgb(255, 89, 125);--mark-color: #9356c1;--code-bg-color: rgb(36, 38, 42);background-color:#131418}html[data-theme="dark"] #theme-toggle div{position:relative;width:24px;height:24px;border-radius:50%;border:4px solid var(--theme-ui-colors-toggleIcon, #cbd5e0);background-color:var(--theme-ui-colors-toggleIcon, #cbd5e0);transform:scale(0.55);transition:all 0.45s ease 0s;overflow:visible;box-shadow:none}html[data-theme="dark"] #theme-toggle div::before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:2px solid var(--theme-ui-colors-toggleIcon, #cbd5e0);border-radius:50%;transform:translate(14px, -14px);opacity:0;transition:transform 0.45s ease 0s}html[data-theme="dark"] #theme-toggle div::after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0px 0px -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),0 23px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),23px 0 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),-23px 0 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),15px 15px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),-15px 15px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),15px -15px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0),-15px -15px 0 var(--theme-ui-colors-toggleIcon, #cbd5e0);transform:scale(1);transition:all 0.35s ease 0s}body{font-family:var(--text-font),monospace;text-rendering:optimizeLegibility;line-height:1.75;color:var(--main-text-color)}a{color:var(--link-color);text-decoration:none}.post p{margin:0.5rem 0;word-break:keep-all}.meta{margin:1.4rem 0}.tags-label{font-weight:bold;color:var(--main-text-color);font-size:0.9rem}.tags-list a{display:inline;padding:0;margin:0 0.2rem 0 0;background-color:transparent;font-size:0.85rem;text-decoration:none;color:var(--link-color);transition:color 0.2s ease}.tags-list a:hover{color:var(--link-color);text-decoration:underline;opacity:0.8}a[href*="github.com"],a[href*="linkedin.com"]{color:#00d4aa !important;text-decoration:none}a[href*="github.com"]:hover,a[href*="linkedin.com"]:hover{color:#00ff41 !important;text-decoration:underline}code,pre{background:var(--code-bg-color);margin:0 -27px;border-width:1px}code{font-family:var(--source-code-font),monospace;margin:unset;padding:0.1rem;color:var(--highlight-text-color)}pre code{background-color:unset;color:unset}pre{border-width:3px;padding:0.8rem;white-space:pre-wrap;border-style:none none none solid;border-color:var(--light-text-color)}img{max-width:100%}hr{background:var(--light-text-color);height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:0.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem 0}section{margin-top:5.5rem}blockquote{font-style:italic;border-left:5px solid var(--dark-text-color);padding-left:1rem}h1{color:var(--main-text-color);text-transform:uppercase;font-size:2rem;font-weight:bold;margin-bottom:1.5rem}h2,h3,h4,h5{font-weight:bold;margin-bottom:1.5rem;font-size:2rem}h2{font-size:1.8rem}h3{font-size:1.6rem}h4{font-size:1.4rem}h5{font-size:1.2rem}h6{font-size:1rem}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts>h3{font-weight:500}.post ul{margin:0px;margin:0px 0px 10px 10px;padding-left:15px}.post ol{margin:0px;margin:0px 0px 10px 15px}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#News .posts li a,#News.posts li a{color:#8b5cf6}#News .posts li a:hover,#News.posts li a:hover{color:#7c3aed}#Post .posts li a,#Post.posts li a{color:var(--link-color)}#Post .posts li a:hover,#Post.posts li a:hover{color:var(--link-color);opacity:0.8}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}time{color:var(--main-text-color)}.post>h1.title{font-size:x-large;margin-top:0;margin-bottom:0}.post>time{margin-bottom:0;margin-top:3rem}.highlight{margin:0px}main{display:flex;max-width:55rem;margin:-5rem auto 0;padding:2.4rem 2rem;flex-direction:column}.flex-row-between{display:flex;flex-direction:row;justify-content:space-between}.hit{display:flex;justify-content:center;position:initial}.social-footer{padding:1rem;display:flex;justify-content:center;position:initial}.social-footer .social-footer-icons .fa{font-size:1.3rem;color:#a9a9a9}.social-footer .social-footer-icons .fa:hover{color:dimgray;transition:color 0.3s ease-in}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}main{padding:0 2rem}}section{flex-grow:999;display:flex;flex-direction:column}figcaption{font-size:smaller}.bio{margin-bottom:5rem}::selection{background-color:#fffba0;color:#333}mark{background:transparent;color:inherit;text-decoration:underline;text-decoration-color:var(--mark-color);text-decoration-thickness:6.5px;text-decoration-skip-ink:none;text-underline-offset:-3px}.search-article{position:relative}.search-article label[for="search-input"]{position:relative;top:-10px;left:11px}.search-article input[type="search"]{top:-1rem;left:0;border:0;width:100%;height:30px;outline:none;position:absolute;border-radius:5px;padding:10px 10px 10px 35px;color:var(--main-text-color);-webkit-appearance:none;background-color:rgba(128,128,128,0.1);border:1px solid rgba(128,128,128,0.1)}.search-article input[type="search"]::-webkit-input-placeholder{color:#808080}.search-article input[type="search"]::-webkit-search-decoration,.search-article input[type="search"]::-webkit-search-results-decoration{display:none}#search-results{text-align:center}#search-results li{text-align:center}#search-results li::before{content:"›";display:inline-block;margin-left:-1.3em;width:1.3em;color:var(--main-text-color)}.post-nav{display:flex;position:relative;margin-top:0;border-top:2px solid var(--light-text-color);line-height:1.4}.post-nav .post-nav-item{border-bottom:0;padding-bottom:10px;width:50%;padding-top:10px;text-decoration:none;box-sizing:border-box}.post-nav .post-nav-item .post-title{color:var(--main-text-color)}.post-nav .post-nav-item:hover .post-title,.post-nav .post-nav-item:focus .post-title{color:var(--link-color);opacity:0.9}.post-nav .post-nav-item .nav-arrow{font-size:17px;color:var(--main-text-color);margin-bottom:3px;font-weight:bold}.post-nav .post-nav-item:nth-child(odd){padding-left:0;padding-right:20px}.post-nav .post-nav-item:nth-child(even){text-align:right;padding-right:0;padding-left:20px}.tags ul{list-style:none;display:grid;grid-template-columns:auto auto auto auto auto auto;grid-template-rows:auto auto auto auto}.tags li{white-space:normal;text-overflow:ellipsis}.timeline{position:center;width:650px;margin:-6em auto;padding:1px;list-style-type:none}@media (max-width: 860px){.timeline{width:100%}}.timeline:before{position:absolute;left:50%;top:0;content:' ';display:block;width:6px;height:100%;margin-left:-3px;background:var(--light-text-color);z-index:5}@media (max-width: 375px){.timeline:before{height:150%}}.timeline li{padding:2em 0}@media (max-width: 860px){.timeline li{padding:2em 0}}.timeline li::after{content:"";display:block;height:150%;clear:both;visibility:hidden}.direction-l{position:relative;width:287px;float:left;text-align:right}@media (max-width: 860px){.direction-l{float:none;width:100%;text-align:center}}.direction-l .flag{color:#333;box-shadow:-1px 1px 1px rgba(0,0,0,0.52)}.direction-l .flag:after{content:"";position:absolute;left:100%;top:50%;height:0;width:0;margin-top:-8px;border:solid transparent;border-left-color:#f8f8f8;border-width:8px;pointer-events:none}@media (max-width: 860px){.direction-l .flag:after{content:"";position:absolute;left:50%;top:-8px;height:0;width:0;margin-left:-8px;border:solid transparent;border-bottom-color:#fff;border-width:8px;pointer-events:none}}.direction-l .time-wrapper{float:left}@media (max-width: 860px){.direction-l .time-wrapper{float:none}}.direction-r{position:relative;width:293px;float:right;text-align:left}@media (max-width: 860px){.direction-r{float:none;width:100%;text-align:center}}.direction-r .flag{color:#333;box-shadow:1px 1px 1px rgba(0,0,0,0.52)}.direction-r .flag:after{content:"";position:absolute;right:100%;top:50%;height:0;width:0;margin-top:-8px;border:solid transparent;border-right-color:#f8f8f8;border-width:8px;pointer-events:none}@media (max-width: 860px){.direction-r .flag:after{content:"";position:absolute;left:50%;top:-8px;height:0;width:0;margin-left:-8px;border:solid transparent;border-bottom-color:#fff;border-width:8px;pointer-events:none}}.direction-r .flag:before{left:-40px}.direction-r .time-wrapper{float:right}@media (max-width: 860px){.direction-r .time-wrapper{float:none}}.flag-wrapper{position:relative;display:inline-block;text-align:center}@media (max-width: 860px){.flag-wrapper{text-align:center}}.flag-wrapper .flag{position:relative;display:inline;background:#f8f8f8;padding:6px 10px;border-radius:5px;font-weight:600;text-align:left}@media (max-width: 860px){.flag-wrapper .flag{background:#fff;z-index:15}}.direction-l .flag:before,.direction-r .flag:before{position:absolute;top:60%;right:-40px;content:' ';display:block;width:12px;height:12px;margin-top:-10px;background:#fff;border-radius:10px;border:4px solid var(--link-color);z-index:10}@media (max-width: 860px){.direction-l .flag:before,.direction-r .flag:before{position:absolute;top:-30px;left:53%;content:' ';display:block;margin-left:-10px}}.time-wrapper{display:inline;line-height:1em;font-size:0.66666em;color:var(--link-color);vertical-align:middle}@media (max-width: 860px){.time-wrapper{display:block;position:relative;margin:4px 0 0 0;z-index:14}}.time-wrapper .time{display:inline-block;padding:4px 6px;background:#f8f8f8}.desc{margin:1em 0.2em -3.5em 0;font-size:0.9em;line-height:1.5em}.desc a{color:var(--link-color);text-decoration:none}.desc a:hover{text-decoration:underline}@media (max-width: 860px){.desc{position:relative;margin:1em 1em 0 1em;padding:1em;background:var(--code-bg-color);box-shadow:0 0 1px rgba(0,0,0,0.2);z-index:15}}</style></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-VX0GEM4CBS"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-VX0GEM4CBS'); </script><body><main><section class="post"><div class="flex-row-between"> <a href="https://kimdoubleb.github.io/news/">« back</a> <button title="Change theme" id="theme-toggle" onclick="modeSwitcher()"><div></div></button></div><time datetime="2024-10-29T00:00:00+09:00">Oct 29, 2024 - 15 ' read</time><h1 class="title"> SBOM (Software Bill of Materials)</h1><div class="meta"> <span class="tags-label">🏷️ Tags: </span> <span class="tags-list"> <a href="https://kimdoubleb.github.io/news/tag/security,">security,</a>, <a href="https://kimdoubleb.github.io/news/tag/SBOM,">SBOM,</a>, <a href="https://kimdoubleb.github.io/news/tag/opensource,">opensource,</a>, <a href="https://kimdoubleb.github.io/news/tag/docker,">docker,</a>, <a href="https://kimdoubleb.github.io/news/tag/vulnerability,">vulnerability,</a>, <a href="https://kimdoubleb.github.io/news/tag/syft,">syft,</a>, <a href="https://kimdoubleb.github.io/news/tag/grype,">grype,</a>, <a href="https://kimdoubleb.github.io/news/tag/spring">spring</a> </span></div><p>이 글을 통해 SBOM 대한 생각을 정리하고, 여러 툴들을 이용해 SBOM을 만들며 보안 이슈를 확인해볼까 해요.</p><p>간단히 만들어 보는 과정만을 담고 있으므로 SBOM 생성/분석 툴들의 상세한 옵션들은 다루지 않을게요.</p><p><br /></p><hr /><h2 id="sbom이란-무엇일까요"> SBOM이란 무엇일까요? <a href="#sbom이란-무엇일까요">#</a></h2><p>SBOM은 <mark>Software Bill of Materials의 약자</mark>예요.</p><p>Maven을 사용해보신 개발자라면 BOM이라는 단어 그리고 Bill of Materials는 많이 접해보셨을 텐데요.</p><p>단어 뜻 그대로 “자재명세서”를 의미해요. ‘어떤 소프트웨어가 무엇으로 이루어져있지?’한다면 Bill of Materials를 통해 ‘아 이런 소프트웨어들이 내포되어 있구나!’라는 것을 알 수 있어요.</p><p>이러한 Maven BOM을 이용하여 여러 라이브러리들의 의존성 버전을 관리하고, 라이브러리 간 버전 충돌 방지 등의 이점을 얻을 수 있었죠.</p><p><br /></p><p>SBOM도 비슷한 의미이지만, 하고자 하는 역할이 달라요.</p><p>SBOM 파일을 통해서 특정 소프트웨어가 어떤 라이브러리, 패키지, 라이선스 등 어떠한 구성요소로 이루어져 있는지 확인할 수 있어요.</p><p>하지만 Maven BOM에서는 빌드 간 편의성을 이를 관리했던 것과 달리 SBOM은 소프트웨어 공급망(Software Supply Chain)에 대한 가시성을 높이고, 소프트웨어 종속성을 편리하게 추적하고 관리하기 위한 용도로 활용돼요.</p><blockquote><p>Maven은 Maven 생태계에서 빌드 환경에 편의를 위해 고안된 것이라면, SBOM은 특정 언어 및 빌드 툴에 의존적인 형태가 아닌 소프트웨어에 대해 종속성에 대한 가시성을 높이고 편리하게 관리하기 위해 고안되었다고 볼 수 있어요.</p></blockquote><p><br /></p><hr /><h2 id="왜-필요할까요"> 왜 필요할까요? <a href="#왜-필요할까요">#</a></h2><p>그럼 <strong>‘소프트웨어 공급망(Software Supply Chain)에 대한 가시성을 높이고, 소프트웨어 종속성을 편리하게 추적하고 관리하기 위한 용도’가 왜 필요</strong>할까요?</p><p><br /></p><p>큰 프로젝트를 관리해보신 분이라면 <mark>라이브러리 종속성 관리의 어려움</mark>을 아실 거예요.</p><p>프로젝트가 커져감에 따라 필요한 기능들이 많아지고, 기능들을 손수 구현하는 것이 아닌 여러 라이브러리들을 사용하다보면 어느새 <strong>엄청나게 많은 라이브러리가 의존성 목록에 존재</strong>하게 돼요.</p><p>이와중에 컨테이너 환경이 도입되면서 빌드에 사용되는 툴/소스들을 관리하게 되고, 운영 컨테이너 내부적으로 사용되는 소프트웨어 등 추가적으로 관리해야하는 소프트웨어들은 엄청나게 많아요.</p><p><br /></p><p>이 때,</p><ul><li>특정 소프트웨어의 버전에 보안 취약점이 공개되었다고 해볼까요?</li><li>이 소프트웨어가 사용 중인지 어떻게 알 수 있을까요?</li><li>더 나아가 특정 버전이 사용 중인지 어떻게 알 수 있을까요?</li></ul><p>맞아요. 모든 환경에서 사용중인지 직접 찾아보는 과정을 거쳐야 해요.</p><p>소규모 프로젝트라면 쉽게 확인할 수 있겠지만, 대규모 프로젝트라면 이 과정도 쉽지 않을 거예요.</p><p><br /></p><p>만약 쉽게 찾더라도, 이를 보안 취약점이 공개될 때마다 수동으로 찾아봐야한다는 문제도 있어요.</p><p>CVE, GHSA 등 보안취약점은 계속적으로 추가되고 공개되는데, 그 때마다 내 소프트웨어가 이에 해당하는지 찾아보는 것은 비효율적이에요.</p><p>SBOM은 이러한 문제를 해결하기 위해 등장했어요.</p><p><br /></p><h2 id="sbom"> SBOM <a href="#sbom">#</a></h2><p><mark>SBOM은 라이브러리, 패키지, 라이선스 등 소프트웨어의 구성요소 목록</mark>이에요.</p><ul><li>패키지 이름, 버전, 작성자, 사용 위치, 배포되는 라이선스, 보안 취약점 등 중요한 정보를 캡슐화하여 제공해요.</li><li>단순한 목록이 아닌 소프트웨어 투명성을 위한 도구로서 보안, 규정 준수, 종속성 관리 측면에서 소프트웨어를 개선할 수 있도록 도와요.</li></ul><p><br /></p><p>미래에는 <mark>SBOM과 이를 통한 보안 취약점 관리 등이 필수적인 요소로 자리잡을 것</mark>으로 예상돼요.</p><ul><li>현재는 아직 필수적인 요소로 보여지지는 않아요. 하지만 추후 시간이 지남에 따라 SBOM의 중요성이 부각되면서 필수적인 요소로 보여질 것 같아요 (복잡한 소프트웨어 생태계에서 보안을 위한 스탠다드 느낌).</li><li>CI/CD 단계에서도 SBOM을 생성하고, 이를 통해 보안 취약점을 분석하는 작업을 하게 될 거예요. 또한, Private Registry에 올라간 이미지들에 대하여 정기적인 SBOM을 이용한 보안 분석이 수행될 거예요 (빌드 될 때 발견되지 않은 보안취약점/잠재적인 보안취약점 발견을 위한 프로세스).</li></ul><p><br /></p><p>당연하겠지만 그냥 ‘내가 Markdown으로 라이브러리 목록 작성해서 만들어야지~’는 SBOM이 아니에요.</p><p>위 목적에 맞게 정해진 스펙으로 만들어진 것이 SBOM이며 여러 포맷을 지원하고 있어요. 이에 대해서는 뒤에서 알아볼게요!</p><p>SBOM과 그 필요성에 대해 더 자세히 보고 싶다면, <a href="https://anchore.com/sbom/what-is-an-sbom/">anchore의 글</a>을 참고하시면 좋아요.</p><p><br /></p><hr /><h2 id="sbom-생성하기"> SBOM 생성하기 <a href="#sbom-생성하기">#</a></h2><p>이제, SBOM을 만들어볼까요?</p><p>SBOM은 정해진 형식이 있는 파일이에요. 고로, 저희가 수동으로 만들기보단 툴을 이용해서 만들어요.</p><p><br /></p><h3 id="syft-이용하기"> Syft 이용하기 <a href="#syft-이용하기">#</a></h3><p>SBOM에는 여러 포맷(<a href="https://github.com/anchore/syft?tab=readme-ov-file#output-formats">Syft</a>, <a href="https://cyclonedx.org/">CycloneDX</a>, <a href="https://spdx.dev/learn/overview/">SPDX</a> 등)이 있으며, 이를 만드는 툴(Trivy, Syft, Docker Scout 등)도 여러가지가 존재해요.</p><ul><li>참고) 지금으로부터 2년이 되긴했는데, 포맷에 대해 설명한 <a href="https://www.itworld.co.kr/article/3555955/%EC%A3%BC%EC%9A%94-sbom-%ED%8F%AC%EB%A7%B7-spdx%EC%99%80-%EC%82%AC%EC%9D%B4%ED%81%B4%EB%A1%A0dx%EC%9D%98-%EB%B9%84%EA%B5%90.html">IT WORLD (한국어로 작성된) 기사</a>가 있네요.</li></ul><p><br /></p><p>이 중 많이 활용되고 있는 Syft 툴을 이용해볼까요?</p><ul><li>https://github.com/anchore/syft</li></ul><p><br /></p><p>Syft는 앞서 이야기한 3개의 포맷을 다 지원하기 때문에(<a href="https://github.com/anchore/syft?tab=readme-ov-file#output-formats">syft output formats</a>), 원하는 포맷을 타겟해서 SBOM을 생성할 수 있어요.</p><p>사용 방법은 간단해요. CLI를 설치하고 단순히 특정 컨테이너 이미지를 넘겨주기만 하면 돼요.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ syft tree9295/sbom-test-spring:0.0.1 -o syft-json &gt; syft.sbom.json
 ✔ Loaded image                      tree9295/sbom-test-
 ✔ Parsed image                    sha256:916882e8fb9a6cb4
 ✔ Cataloged contents              5c7a714ff592cac86f4d3ff
   ├── ✔ Packages                        [51 packages]
   ├── ✔ File digests                    [220 files]
   ├── ✔ File metadata                   [220 locations]
   └── ✔ Executables                     [107 executables]
</code></pre></div></div><p>설치 방법은 <a href="https://github.com/anchore/syft?tab=readme-ov-file#installation">Syft README</a>를 참고해주세요. 테스트를 위해 Spring boot 3.2.1 + Web/MVC을 이용해 구성된 container를 배포해두었어요 (<a href="https://hub.docker.com/repository/docker/tree9295/sbom-test-spring/tags/0.0.1/sha256-3949abbe08c9b0c1a573e458d16267fe335496b572a6732ee2dece194c770197">tree9295/sbom-test-spring</a>) 만약 다른 format을 이용하고 싶다면, <code class="language-plaintext highlighter-rouge">-o cyclonedx-json</code> 같이 output option으로 설정하시면 돼요.</p><p><br /></p><h3 id="결과-확인"> 결과 확인 <a href="#결과-확인">#</a></h3><p>위 결과로 만들어진 syft.sbom.json 파일을 살펴볼까요?</p><p>파일의 양이 많아 전체를 담지는 못했지만, 아래와 같이 사용된 라이브러리와 그 정보들을 담고 있는 것을 확인할 수 있어요.</p><p>여기서 알아야하는 것은 저희가 사용했다고 생각한 라이브러리(spring boot 등) 뿐 아니라 Container 이미지에서 사용하고 있는 기본 툴들에 대한 정보도 다 포함되어 있다는 거예요.</p><p><img alt="bom json" src="https://github.com/user-attachments/assets/13a4158f-3960-401d-a669-73a2682ac9cb" /></p><p><br /></p><h3 id="어떻게-만드는걸까요"> 어떻게 만드는걸까요? <a href="#어떻게-만드는걸까요">#</a></h3><p>이렇게 SBOM을 만들어보았는데요. 한 가지 궁금증이 들어요.</p><p>Syft 같은 SBOM 생성 툴들은 단순 Container image로 SBOM을 어떻게 만들 수 있었던 걸까요?</p><p><br /></p><p>아시다시피 Container image는 단순 애플리케이션이 아닌 애플리케이션을 실행하기 위한 환경도 포함하고 있어요.</p><p>이러한 모든 것들은 Container image 내 File system에 존재해요.</p><blockquote><p>가끔 Container image가 마법 같이 바로 애플리케이션을 실행시켜주는 단순 실행 프로그램으로 아시는 분들이 있어요. Container image는 애플리케이션과 그 실행에 필요한 모든 종속성을 포함하는 완전한 패키지예요. 오해하면 안 돼요.</p></blockquote><p><br /></p><p>Syft는 이걸 이용해요.</p><p>Container image 내 파일들을 스캔하고, 패키지 정보를 수집한 뒤 구조화된 SBOM 형태로 변환하여 사용자가 원하는 포맷으로 출력해요.</p><p>자세히는 Syft 내 Cataloger들이 stereoscope 라이브러리를 이용하여 image 내 파일들을 스캔하고 정보를 수집해요.</p><ul><li>이에 대한 자세한 내용은 <a href="https://github.com/anchore/syft/blob/main/DEVELOPING.md#architecture">Syft Architecture</a>를 참고해주세요.</li><li>Syft는 binary 파일에 대해서도 분석을 수행해요 (<a href="https://anchore.com/blog/improve-open-source-sbom-tool-syft-with-binary-detection/">Improving Syft’s Binary Detection</a>)</li></ul><p><br /></p><hr /><h2 id="sbom을-통해-보안취약점-분석하기"> SBOM을 통해 보안취약점 분석하기 <a href="#sbom을-통해-보안취약점-분석하기">#</a></h2><p>SBOM을 만들었다고 해볼까요? 그럼 보안 위험이 해결되는 걸까요?</p><p>당연히 아니에요. 이를 보고 이해하고 보안 위험 등 운영상의 문제가 있는 부분을 찾을 수 있는 툴이 필요해요.</p><p><br /></p><p>생성된 SBOM을 이용하여 보안 취약점을 분석하는 툴들도 여러가지 존재해요.</p><p>이 글에서는 Grype을 이용하여 분석해볼게요.</p><ul><li>https://github.com/anchore/grype</li><li>Grype는 Syft를 만든 anchore에서 만들었어요.</li><li>설치 방법은 <a href="https://github.com/anchore/grype?tab=readme-ov-file#installation">Grype README</a>를 참고해주세요.</li></ul><p><br /></p><p>사실 Syft를 이용하여 SBOM을 만들지 않아도 Grype 내부에서 Syft를 이용하고 있어 SBOM을 만들고 바로 분석까지 수행이 가능해요.</p><ul><li>ex) <code class="language-plaintext highlighter-rouge">grype tree9295/sbom-test-spring:0.0.1</code></li></ul><p><br /></p><p>하지만 저희는 만들어 둔 SBOM을 이용해볼게요.</p><p>앞선 예제로 사용했던 sbom-test-spring 이미지는 Spring boot 3.2.1을 이용하고 있어요.</p><p>해당 라이브러리는 spring web 6.1.2 버전을 이용하고 있는데요. 이 버전에서는 High 등급 3개의 보안 취약점이 발견되었어요.</p><ul><li><a href="https://ossindex.sonatype.org/component/pkg:maven/org.springframework/spring-web@6.1.2">Spring web 6.1.2 Vulnerabilities</a></li><li><a href="https://spring.io/security">Spring Security Advisories List</a></li></ul><p><br /></p><p>만든 SBOM을 Grype에서 분석하여 위 보안취약점이 검출되는지 확인해볼게요.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ grype syft.sbom.json
 ✔ Scanned for vulnerabilities     [12 vulnerability matches]
   ├── by severity: 0 critical, 6 high, 4 medium, 0 low, 0 negligible (2 unknown)
   └── by status:   12 fixed, 0 not-fixed, 0 ignored
NAME                    INSTALLED  FIXED-IN  TYPE          VULNERABILITY        SEVERITY
libcrypto3              3.3.2-r0   3.3.2-r1  apk           CVE-2024-9143        Unknown
libssl3                 3.3.2-r0   3.3.2-r1  apk           CVE-2024-9143        Unknown
...
spring-web              6.1.2      6.1.5     java-archive  GHSA-hgjh-9rj2-g67j  High
spring-web              6.1.2      6.1.4     java-archive  GHSA-ccgv-vj62-xf9h  High
spring-web              6.1.2      6.1.6     java-archive  GHSA-2wrp-6fg6-hmc5  High
spring-web              6.1.2      6.1.12    java-archive  GHSA-2rmj-mq67-h97g  Medium
...
</code></pre></div></div><p>위에서 보았던 것처럼 3개의 GHSA High 보안취약점이 확인되는 것을 볼 수 있어요.</p><ul><li>예상하지 못했던 컨테이너에 포함된 다양한 다른 보안취약점까지 확인되는 것을 볼 수 있어요.</li><li>GHSA는 Github에서 관리되는 보안 취약점 데이터베이스예요. CVE와 개념은 같은데, Github에 존재하는 프로젝트와 관련된 취약점에 초점을 맞춘 것이라고 이해하시면 돼요.</li></ul><p><br /></p><p>위 결과에서 알 수 있듯 단순 보안취약점 검출을 넘어</p><ul><li>어떤 타입인지</li><li>어떤 Vulnerability인지</li><li>그리고 제일 중요한 어떤 버전에서 fix 되었는지 까지 다양한 정보를 보여줘요.</li></ul><p><br /></p><p>이렇게 분석된 결과를 바탕으로 보안 취약점 등 이슈를 보고하거나 수정해 나갈 수 있어요.</p><blockquote><p>각 보안취약점을 무조건 수정해야한다는 것은 아니에요. 문제 발현조건들이 다 다를 수 있으니 위 리포트를 바탕으로 Vulnerability report를 보고 파악해보는 것이 중요해요.</p></blockquote><p><br /></p><hr /><h2 id="파이프라인-구성하기"> 파이프라인 구성하기 <a href="#파이프라인-구성하기">#</a></h2><p>SBOM 생성과 분석이 포함된 파이프라인 구성은 인프라 구성상황에 따라 다르기에 여러 예시를 첨부하는 것으로 대신할게요.</p><p><br /></p><p>예시) <a href="https://www.infracloud.io/blogs/implement-devsecops-secure-ci-cd-pipeline/">DevSecOps CI/CD</a></p><p><img alt="ex1" src="https://github.com/user-attachments/assets/39f72cc4-6427-43f2-b786-94bdbc78fd77" /></p><p><br /></p><p>예시) <a href="https://www.linkedin.com/pulse/empowering-cicd-github-actions-grype-tools-practical-guide-tor-zhowe/">Grype를 이용한 Github action pipeline 구성</a></p><p><img alt="ex2" src="https://github.com/user-attachments/assets/ee08fe68-ab9b-4739-a0ea-64a943bb71af" /></p><p><br /></p><p>예시) <a href="https://anchore.com/sbom/creating-sbom-attestations-using-syft-and-sigstore/">Syft SBOM, Sigstore 컨테이너 서명을 통한 SBOM 증명(attestation) 과정</a></p><p><img alt="ex3" src="https://github.com/user-attachments/assets/89083854-0b37-41ba-9ea3-9a646ce08328" /></p><p><br /></p><hr /><h2 id="결론"> 결론 <a href="#결론">#</a></h2><p>이렇게 SBOM을 만들고, SBOM을 분석하여 보안 취약점을 파악해보았어요.</p><p>이는 어떻게 활용될 수 있을까요?</p><p><strong>CI/CD 및 정기적인 보안 프로세스에서 컨테이너 이미지에 대해 보안취약점, 부적격 라이센스 이용 등을 손쉽게 파악해볼 수 있을 거예요.</strong></p><p><br /></p><p>가끔 회사 공지 혹은 메일로 오는 것들을 생각해봐요. ‘XXX 취약점으로 인한 버전 확인 요청’, ‘XXX 소프트웨어 라이센스 변경으로 인한 이용 확인 요청’ 등 귀찮은 작업들이 수두룩 하지 않나요?</p><p>SBOM을 이용한다면 특정 버전을 사용하고 있는지도, 보안 취약점이 존재하는지도, 라이센스 문제가 있는지도 바로 파악이 가능할 거예요.</p><p>보안 부서 입장에서도, 플랫폼 운영 입장에서도, 소프트웨어를 직접 개발하는 개발자 입장에서도 아주 편리한 회사생활이 될 것 같네요 :-)</p><p><br /></p><p>여기까지 긴 글 읽어주셔서 감사합니다.</p><p><br /></p><hr /><h2 id="부록-끝내기는-아쉽지"> 부록 (끝내기는 아쉽지) <a href="#부록-끝내기는-아쉽지">#</a></h2><p>글을 작성하며, Spring boot를 주로 사용하는 개발자로서 <mark>"Spring boot에서는 SBOM 생성을 지원하는게 없을까?"</mark>를 중심으로 먼저 찾아보았었는데요.</p><p>이대로 간직하긴 아쉬워서 관련된 내용들은 부록으로나마 공유드릴게요.</p><p><br /></p><h3 id="spring-boot-33-actuator--cyclonedx-plugin"> Spring boot 3.3 actuator + CycloneDX plugin <a href="#spring-boot-33-actuator--cyclonedx-plugin">#</a></h3><p>https://spring.io/blog/2024/05/24/sbom-support-in-spring-boot-3-3</p><p>Spring boot 3.3부터는 <mark>actuator를 통해 SBOM을 출력하는 엔드포인트를 제공</mark>하도록 업데이트 되었어요.</p><p>이를 위해서는 아래와 같은 구성이 필요해요.</p><ul><li>CycloneDX plugin 추가 =&gt; id(“org.cyclonedx.bom”) version “1.8.2”</li><li>Spring Web, Actuator 의존성 추가</li><li>Actuator SBOM 활성화 및 노출 property 설정</li></ul><p><br /></p><p>위 설정을 완료한 뒤 <code class="language-plaintext highlighter-rouge">/actuator/sbom/application</code> endpoint에 접속하면 CycloneDX format의 SBOM이 노출된 것을 확인할 수 있어요.</p><p>이를 Grype를 통해 분석하고자 한다면, 아래와 같이 해볼 수 있어요.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl http://{host}/actuator/sbom/application | grype
</code></pre></div></div><p><br /></p><h3 id="cloud-native-buildpacks-cnb"> Cloud Native Buildpacks (CNB) <a href="#cloud-native-buildpacks-cnb">#</a></h3><p>Spring boot에서는 CNB를 이용한 플러그인을 통해 손쉽게 Container image를 만들 수 있도록 지원하고 있어요.</p><p>ex) <code class="language-plaintext highlighter-rouge">.gradlew bootBuildImage</code> 이와 관련되어 아래 문서들을 참고해보면 좋아요.</p><ul><li><a href="https://docs.spring.io/spring-boot/gradle-plugin/packaging-oci-image.html">https://docs.spring.io/spring-boot/gradle-plugin/packaging-oci-image.html</a></li><li><a href="https://docs.spring.io/spring-boot/reference/packaging/container-images/cloud-native-buildpacks.html">https://docs.spring.io/spring-boot/reference/packaging/container-images/cloud-native-buildpacks.html</a></li><li><a href="https://github.com/paketo-buildpacks/spring-boot">https://github.com/paketo-buildpacks/spring-boot</a></li><li><a href="https://buildpacks.io/">https://buildpacks.io/</a></li></ul><p><br /></p><p>이 때 CNB를 이용한 빌드 과정에서 syft가 사용되는 것을 볼 수 있어요.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./gradlew bootBuildImage
...
    [creator]     paketo-buildpacks/syft              2.3.1
...
    [creator]     Paketo Buildpack for Syft 2.3.1
    [creator]       https://github.com/paketo-buildpacks/syft
...
</code></pre></div></div><p><br /></p><p>Container Image를 확인해보면, <code class="language-plaintext highlighter-rouge">/layers/sbom/launch</code> 디렉토리 아래에 빌드 과정에서 만들어진 SBOM 목록이 존재하는 것을 볼 수 있죠.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ find /layers/sbom/launch -name "*.json"
/layers/sbom/launch/buildpacksio_lifecycle/launcher/sbom.cdx.json
/layers/sbom/launch/buildpacksio_lifecycle/launcher/sbom.spdx.json
/layers/sbom/launch/buildpacksio_lifecycle/launcher/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_bellsoft-liberica/helper/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_bellsoft-liberica/jre/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_ca-certificates/helper/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_executable-jar/sbom.cdx.json
/layers/sbom/launch/paketo-buildpacks_executable-jar/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_spring-boot/helper/sbom.syft.json
/layers/sbom/launch/paketo-buildpacks_spring-boot/spring-cloud-bindings/sbom.syft.json
/layers/sbom/launch/sbom.legacy.json
</code></pre></div></div><p><br /></p><p>Buildpack을 이용해 빌드 과정에서 활용되는 라이브러리, 애플리케이션에서 사용되는 라이브러리 등 전체적으로 사용되는 모든 소프트웨어 구성요소를 SBOM로 구성해두고 있는 것을 볼 수 있어요.</p><ul><li>Paketo Buildpack 문서를 보면 이에 대해 더 자세히 설명하고 있어요.<ul><li><a href="https://paketo.io/docs/concepts/sbom/">Paketo buildpack - SBOM</a></li><li><a href="https://paketo.io/docs/howto/sbom/">Paketo buildpack - How to access the SBOM</a></li></ul></li></ul><p><br /></p><p>Syft를 통해 해당 이미지를 분석해보면, 위 SBOM 파일들도 분석 대상에 포함되어 전체적인 하나의 SBOM 파일을 만들 것으로 예상돼요.</p></section><section><nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/news/2023/05/14/4-news"><div class="nav-arrow">Previous</div><span class="post-title">Monolith vs MSA 아키텍처 / 오픈소스 생태계 / Transactional Outbox 패턴</span> </a> <a class="post-nav-item post-nav-next" href="/news/2025/01/17/trace-sampling"><div class="nav-arrow">Next</div><span class="post-title">Trace Sampling / 트레이스 샘플링</span> </a></nav></section><div id="disqus_thread" class="article-comments"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = '//kimdoubleb-news.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></main><script> function setTheme(theme) { if (theme === "dark") { document.documentElement.setAttribute('data-theme', 'dark'); window.localStorage.setItem('theme', 'dark'); document.getElementById("theme-toggle").classList.add('sun'); document.getElementById("theme-toggle").classList.remove('moon'); } else { document.documentElement.setAttribute('data-theme', 'light'); window.localStorage.setItem('theme', 'light'); document.getElementById("theme-toggle").classList.add('moon'); document.getElementById("theme-toggle").classList.remove('sun'); } } let theme = localStorage.getItem('theme'); theme = theme || (window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' : 'light'); setTheme(theme); function modeSwitcher() { let currentMode = document.documentElement.getAttribute('data-theme'); if (currentMode === "dark") { setTheme('light'); } else { setTheme('dark'); } } </script></body><footer class="social-footer"></footer></html>
